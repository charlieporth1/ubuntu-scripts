#!/bin/sh

#sudo git clone https://github.com/hak5/bashbunny-payloads.git
#sudo git clone https://github.com/offensive-security/exploit-database.git
#sudo git clone https://github.com/offensive-security/exploit-database-papers.g$
#sudo git clone git@github.com:offensive-security/exploit-database-bin-sploits.$
# git fetch https://github.com/offensive-security/exploit-database-bin-sploits.git
#echo done with that
cd /mnt/HDD/HACK/
#sudo gdrive upload   -r -p 1sscS0H_MzZP9nvBMQ3cUpoIug5aNDDCY /mnt/HDD/HACK

cd /mnt/HDD/HACK/bashbunny-payloads/

UPSTREAM=${1:-'@{https://github.com/hak5/bashbunny-payloads.git}'}
LOCAL=$(git rev-parse @ )
REMOTE=$(git rev-parse  "$UPSTREAM")
BASE=$(git merge-base @ "$UPSTREAM")

if [ $LOCAL = $REMOTE ]; then
    echo "Up-to-date"
elif [ $LOCAL != $BASE ]; then
    echo "Need to pull"
cd /mnt/HDD/HACK/
sudo rm -r /mnt/HDD/HACK/bashbunny-payloads/
sudo git clone https://github.com/hak5/bashbunny-payloads.git
cd /mnt/HDD/HACK/bashbunny-payloads/
sudo git remote -v upload
cd /mnt/HDD/HACK/
sudo gdrive delete -r   
sudo gdrive upload   -r -p 1sscS0H_MzZP9nvBMQ3cUpoIug5aNDDCY /mnt/HDD/HACK/bashbunny-payloads/*
elif [ $REMOTE = $BASE ]; then
    echo "Need to push"
else
    echo "Diverged"
fi

cd /mnt/HDD/HACK/
cd /mnt/HDD/HACK/exploit-database/

#UPSTREAM2=${1:-'@{https://github.com/offensive-security/exploit-database.git}'}
LOCAL=$(git rev-parse @ )
REMOTE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database.git master | grep master |  cut -f1)
BASE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database.git master | grep master |  cut -f1)

if [ $LOCAL = $REMOTE ]; then
    echo "Up-to-date"
elif [ $LOCAL != $BASE ]
 then
    echo "Need to pull"
cd /mnt/HDD/HACK/
sudo rm -r /mnt/HDD/HACK/exploit-database/
git clone  https://github.com/offensive-security/exploit-database.git
cd /mnt/HDD/HACK/exploit-database/
sudo git remote -v upload  
cd /mnt/HDD/HACK/
sudo gdrive upload   -r -p 1sscS0H_MzZP9nvBMQ3cUpoIug5aNDDCY /mnt/HDD/HACK/exploit-database/*
elif [ $REMOTE = $BASE ]; then
    echo "Need to push"
else
    echo "Diverged"
fi

cd /mnt/HDD/HACK/exploit-database-papers/

#UPSTREAM3=${1:-'@{https://github.com/offensive-security/exploit-database-papers.git}'}
LOCAL=$(git rev-parse @ )
REMOTE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database-papers.git master | grep master |  cut -f1)
BASE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database-papers.git master | grep master |  cut -f1)

if [ $LOCAL = $REMOTE ]; then
    echo "Up-to-date"
elif [ $LOCAL != $BASE ]; then
    echo "Need to pull"
cd /mnt/HDD/HACK/
sudo rm -r /mnt/HDD/HACK/exploit-database-papers/
git clone https://github.com/offensive-security/exploit-database-papers.git
cd /mnt/HDD/HACK/exploit-database-papers/
sudo git remote -v upload  
cd /mnt/HDD/HACK/
 rar a /mnt/HDD/HACK/exploit-database-papers.rar -m5 /mnt/HDD/HACK/exploit-database-papers/*
sudo gdrive upload   -r -p 1sscS0H_MzZP9nvBMQ3cUpoIug5aNDDCY /mnt/HDD/HACK/exploit-database-papers/
elif [ $REMOTE = $BASE ]; then
    echo "Need to push"
else
    echo "Diverged"
fi
cd /mnt/HDD/HACK/exploit-database-bin-sploits/

#UPSTREAM4=${1:-'@{https://github.com/offensive-security/exploit-database-bin-sploits.git}'}
LOCAL=$(git rev-parse @ )
REMOTE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database-bin-sploits.git master | grep master |  cut -f1)
BASE=$(sudo git ls-remote https://github.com/offensive-security/exploit-database-bin-sploits.git master | grep master |  cut -f1)

if [ $LOCAL = $REMOTE ]; then
    echo "Up-to-date"
elif [ $LOCAL != $BASE ]; then
    echo "Need to pull"
cd /mnt/HDD/HACK/
sudo rm -r /mnt/HDD/HACK/exploit-database-bin-sploits
git clone https://github.com/offensive-security/exploit-database-bin-sploits.git
cd /mnt/HDD/HACK/exploit-database-bin-sploits/
sudo git remote -v upload 
cd /mnt/HDD/HACK/
sudo gdrive upload   -r -p 1sscS0H_MzZP9nvBMQ3cUpoIug5aNDDCY /mnt/HDD/HACK/exploit-database-bin-sploits/*

elif [ $REMOTE = $BASE ]; then
    echo "Need to push"
else
    echo "Diverged"
fi




